_jinja_extensions:
  - extensions.py:GitConfigExtension
  - extensions.py:SlugifyExtension

repo_platform:
  type: str
  default: github
  choices:
    GitHub: github
    GitLab: gitlab
    GitLab (self-managed): gitlab-self-managed
  help: "Choose the platform for the repository:"
repo_host:
  type: str
  default: |-
    {% if repo_platform == 'github' %}
    github.com
    {%- elif repo_platform == 'gitlab' %}
    gitlab.com
    {%- endif %}
  help: "Specify the host of the self-managed GitLab:"
  when: '{{ repo_platform == "gitlab-self-managed" }}'
page_host:
  type: str
  default: |-
    {% if repo_platform == 'github' %}
    github.io
    {%- elif repo_platform == 'gitlab' %}
    gitlab.io
    {%- endif %}
  help: "Specify the host of the self-managed GitLab Pages:"
  when: '{{ repo_platform == "gitlab-self-managed" }}'
container_registry_host:
  type: str
  default: |-
    {% if repo_platform == 'github' %}
    ghcr.io
    {%- elif repo_platform == 'gitlab' %}
    registry.gitlab.com
    {%- endif %}
  help: "Specify the host of the self-managed GitLab Container Registry:"
  when: '{{ repo_platform == "gitlab-self-managed" }}'

repo_namespace: # TODO: Check if it's ok to have spaces
  type: str
  default: "{{ organization_name | slugify('-') | git_user_name }}"
  help: "Indicate the GitHub Repository Owner or GitLab Namespace. This is typically the account name of the author or the organization:"
  validator: >-
    {% if not repo_namespace.strip() %}
    ERROR: Must not be empty
    {% endif %}
repo_name: # TODO: Check if it's ok to have spaces (enforce normalized names)
  type: str
  default: "{{ project_name | slugify('-') }}"
  help: "Provide a name for the repository:"
  validator: >-
    {% if not repo_name.strip() %}
    ERROR: Must not be empty
    {% endif %}
